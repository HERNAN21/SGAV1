import{_ as b,u as V,a as y,r as s,o as h,c as x,b as o,w as t,d as C,e as N,f as S,E as p,g as c}from"./index-DlKmiQXQ.js";const B={class:"login-page"},E={__name:"Login",setup(I){const n=c(""),r=c(""),i=c(!1),m=V(),_=y(),f=async()=>{var u,e;try{i.value=!0,await _.login({email:n.value,password:r.value}),await m.push("/dashboard"),p.success("Sesión iniciada correctamente")}catch(a){const l=((e=(u=a==null?void 0:a.response)==null?void 0:u.data)==null?void 0:e.message)||"No se pudo iniciar sesión";p.error(l)}finally{i.value=!1}};return(u,e)=>{const a=s("el-input"),l=s("el-form-item"),g=s("el-button"),v=s("el-form"),w=s("el-card");return h(),x("div",B,[o(w,{class:"login-card",shadow:"hover"},{header:t(()=>[...e[2]||(e[2]=[S("div",{class:"login-title"},"Intranet Académica",-1)])]),default:t(()=>[o(v,{onSubmit:C(f,["prevent"]),"label-position":"top",class:"login-form"},{default:t(()=>[o(l,{label:"Correo"},{default:t(()=>[o(a,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=d=>n.value=d),type:"email",placeholder:"admin@uninp.edu.pe",autocomplete:"username"},null,8,["modelValue"])]),_:1}),o(l,{label:"Contraseña"},{default:t(()=>[o(a,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=d=>r.value=d),type:"password",placeholder:"******","show-password":"",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),o(g,{type:"primary",loading:i.value,"native-type":"submit",class:"login-btn"},{default:t(()=>[...e[3]||(e[3]=[N(" Ingresar ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})])}}},k=b(E,[["__scopeId","data-v-0f25dcff"]]);export{k as default};
